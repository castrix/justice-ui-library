import{a as e,_ as t}from"../../tslib.es6-ee5f1b9a.js";import{jsx as o}from"react/jsx-runtime";import{s as n}from"../../style-inject.es-1f59c1d0.js";import{c as i}from"../../index-6ea95111.js";import*as r from"react";import a,{Component as p}from"react";import{w as s,N as d}from"../../warning-e55cfeb7.js";import l from"styled-components";import{b as c,O as f,g as m,a1 as u,X as v,x as b,Z as h,aa as g,_ as x,H as w,I as y,J as k}from"../../math-3d6d0d9e.js";import{e as P}from"../../elevation-c2b1cff0.js";import{M as j,s as I,b as O,u as C,a as R,c as _}from"../../Popper-7ade2877.js";import{_ as E}from"../../objectWithoutPropertiesLoose-982ef579.js";import{_ as N,a as z}from"../../setPrototypeOf-c6ba02e6.js";import{_ as L}from"../../inheritsLoose-6fd5c6e3.js";import{Enum as D}from"../../types/enum.js";import"../../_commonjsHelpers-6e998e78.js";import"../../index-8cad2dd6.js";import"../../index-dd80248b.js";import"../../context-f854a00e.js";import"../../memoize-one.esm-8827f1ac.js";var B=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,N(z(t),"refHandler",(function(e){I(t.props.innerRef,e),O(t.props.setReferenceNode,e)})),t}L(t,e);var o=t.prototype;return o.componentWillUnmount=function(){I(this.props.innerRef,null)},o.render=function(){return s(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),C(this.props.children)({ref:this.refHandler})},t}(r.Component);function H(e){return r.createElement(j.Consumer,null,(function(t){return r.createElement(B,E({setReferenceNode:t},e))}))}n('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.inline-popover{font-family:Roboto,sans-serif}.inline-popover>div[data-testid~=InlinePopover]{word-wrap:break-word;background-color:#fff;box-shadow:0 0 8px rgba(0,0,0,.2);color:#687792;font-size:12px;letter-spacing:.03em;line-height:16px;margin:8px;max-width:290px;overflow-wrap:break-word;padding:16px}.inline-popover>div[data-testid~=InlinePopover] a{color:#0b6cff}.inline-popover>div[data-testid~=InlinePopover] a:hover{color:#4c93ff}.inline-popover>div[data-testid~=InlinePopover]:before{border-color:transparent #fff #fff transparent;border-style:solid;border-width:6px;box-shadow:2px 2px 4px 0 rgba(0,0,0,.1);content:"";height:0;position:absolute;transform-origin:0 0;width:0}.inline-popover>div[data-testid~=InlinePopover][data-testid*=right]:before{left:10px;top:50%;transform:rotate(135deg)}.inline-popover>div[data-testid~=InlinePopover][data-testid*=left]:before{right:-2px;top:50%;transform:rotate(315deg)}.inline-popover>div[data-testid~=InlinePopover][data-testid*=bottom]:before{left:50%;top:10px;transform:rotate(225deg)}.inline-popover>div[data-testid~=InlinePopover][data-testid*=bottom][data-testid*=start]:before{left:10%}.inline-popover>div[data-testid~=InlinePopover][data-testid*=bottom][data-testid*=end]:before{left:90%}.inline-popover>div[data-testid~=InlinePopover][data-testid*=top]:before{bottom:-1px;left:50%;transform:rotate(45deg)}.inline-popover>div[data-testid~=InlinePopover][data-testid*=top][data-testid*=start]:before{left:10%}.inline-popover>div[data-testid~=InlinePopover][data-testid*=top][data-testid*=end]:before{left:90%}.inline-popover>div[data-testid~=InlinePopover][data-testid*=auto]:before{border:0;box-shadow:none}.inline-popover>div[data-testid~=InlinePopover] ul{margin:0;padding-left:16px}.inline-popover>div[data-testid~=InlinePopover] ul li+li{margin-top:8px}.inline-popover>div[data-testid~=InlinePopover] code{font-size:14px;font-weight:500}.inline-popover>div[data-testid~=InlinePopover] code.allow{color:#0b6cff}.inline-popover>div[data-testid~=InlinePopover] code.not-allow{color:#cb1a1a}.inline-popover.dark>div[data-testid~=InlinePopover]{background-color:#232831;color:#fff}.inline-popover.dark>div[data-testid~=InlinePopover]:before{border-color:transparent #232831 #232831 transparent}');var F=function(e,t){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},F(e,t)};var M,U,W,A="@atlaskit/inline-dialog",V=v({light:b,dark:h}),J=v({light:g,dark:x}),S=l.div(W||(M=["\n  background: ",";\n  border-radius: ","px;\n  box-sizing: content-box; /* do not set this to border-box or it will break the overflow handling */\n  color: ",";\n  max-height: ","px;\n  max-width: ","px;\n  padding: ","px ","px;\n  z-index: ",";\n\n  ",";\n\n  &:focus {\n    outline: none;\n  }\n"],U=["\n  background: ",";\n  border-radius: ","px;\n  box-sizing: content-box; /* do not set this to border-box or it will break the overflow handling */\n  color: ",";\n  max-height: ","px;\n  max-width: ","px;\n  padding: ","px ","px;\n  z-index: ",";\n\n  ",";\n\n  &:focus {\n    outline: none;\n  }\n"],Object.defineProperty?Object.defineProperty(M,"raw",{value:U}):M.raw=U,W=M),V,c,J,f(m,56),f(m,56),f(m,2),f(m,3),u.dialog,P),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickOutside=function(e){var o=t.props,n=o.isOpen,i=o.onClose;if(!e.defaultPrevented){var r=t.containerRef,a=t.triggerRef,p=e.target;a&&a.contains(p)||n&&r&&!r.contains(p)&&i&&i({isOpen:!1,event:e})}},t}return function(e,t){function o(){this.constructor=e}F(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}(t,e),t.prototype.componentDidUpdate=function(e){"undefined"!=typeof window&&(!e.isOpen&&this.props.isOpen?window.addEventListener("click",this.handleClickOutside,!0):e.isOpen&&!this.props.isOpen&&window.removeEventListener("click",this.handleClickOutside,!0))},t.prototype.componentDidMount=function(){"undefined"!=typeof window&&this.props.isOpen&&window.addEventListener("click",this.handleClickOutside,!0)},t.prototype.componentWillUnmount=function(){"undefined"!=typeof window&&window.removeEventListener("click",this.handleClickOutside,!0)},t.prototype.render=function(){var e=this,t=this.props,o=t.children,n=t.placement,i=t.isOpen,r=t.content,p=t.onContentBlur,s=t.onContentFocus,l=t.onContentClick,c=t.testId,f=i?a.createElement(R,{placement:n},(function(t){var o=t.ref,n=t.style;return a.createElement(S,{onBlur:p,onFocus:s,onClick:l,innerRef:function(t){e.containerRef=t,"function"==typeof o?o(t):o.current=t},style:n,"data-testid":c},r)})):null;return a.createElement(_,null,a.createElement(H,null,(function(t){var n=t.ref;return a.createElement(d,{innerRef:function(t){e.triggerRef=t,"function"==typeof n?n(t):n.current=t}},o)})),f)},t.defaultProps={isOpen:!1,onContentBlur:function(){},onContentClick:function(){},onContentFocus:function(){},onClose:function(){},placement:"bottom-start"},t}(p),Z=k("atlaskit"),q=w({componentName:"inlineDialog",packageName:A,packageVersion:"12.1.14"})(y({onClose:Z({action:"closed",actionSubject:"inlineDialog",attributes:{componentName:"inlineDialog",packageName:A,packageVersion:"12.1.14"}})})(X)),G=D("light","dark"),K=function(n){var r=n.placement,a=void 0===r?"right":r,p=e(n,["placement"]),s=p.content,d=p.children,l=p.isOpen,c=p.type;return o("div",t({className:i("inline-popover",c)},{children:o(q,t({},p,{isOpen:!!s&&l,placement:a,testId:i("InlinePopover",a)},{children:d}))}))};export{G as INLINE_POPOVER_TYPE,K as InlinePopover};
