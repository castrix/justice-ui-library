import{_ as o}from"../../tslib.es6-ee5f1b9a.js";import{jsxs as t,jsx as e}from"react/jsx-runtime";import*as n from"react";import r from"react";import{c as i}from"../../index-6ea95111.js";import{s as c}from"../../style-inject.es-1f59c1d0.js";import{Icon as a}from"../Icon/index.js";var l={},p=function(){var o=document.getSelection();if(!o.rangeCount)return function(){};for(var t=document.activeElement,e=[],n=0;n<o.rangeCount;n++)e.push(o.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return o.removeAllRanges(),function(){"Caret"===o.type&&o.removeAllRanges(),o.rangeCount||e.forEach((function(t){o.addRange(t)})),t&&t.focus()}},s={"text/plain":"Text","text/html":"Url",default:"Text"};var u=function(o,t){var e,n,r,i,c,a,l=!1;t||(t={}),e=t.debug||!1;try{if(r=p(),i=document.createRange(),c=document.getSelection(),(a=document.createElement("span")).textContent=o,a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){e&&console.warn("unable to use e.clipboardData"),e&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=s[t.format]||s.default;window.clipboardData.setData(r,o)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,o);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(a),i.selectNodeContents(a),c.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(r){e&&console.error("unable to copy using execCommand: ",r),e&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",o),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(r){e&&console.error("unable to copy using clipboardData: ",r),e&&console.error("falling back to prompt"),n=function(o){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return o.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,o)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(i):c.removeAllRanges()),a&&document.body.removeChild(a),r()}return l};Object.defineProperty(l,"__esModule",{value:!0}),l.CopyToClipboard=void 0;var d=f(r),m=f(u);function f(o){return o&&o.__esModule?o:{default:o}}function y(o){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},y(o)}function b(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.push.apply(e,n)}return e}function h(o,t){if(null==o)return{};var e,n,r=function(o,t){if(null==o)return{};var e,n,r={},i=Object.keys(o);for(n=0;n<i.length;n++)e=i[n],t.indexOf(e)>=0||(r[e]=o[e]);return r}(o,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);for(n=0;n<i.length;n++)e=i[n],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(o,e)&&(r[e]=o[e])}return r}function v(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function g(o,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function w(o,t){return!t||"object"!==y(t)&&"function"!=typeof t?C(o):t}function x(o){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},x(o)}function C(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function O(o,t){return O=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o},O(o,t)}function j(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}var D=function(o){function t(){var o,e;v(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return j(C(e=w(this,(o=x(t)).call.apply(o,[this].concat(r)))),"onClick",(function(o){var t=e.props,n=t.text,r=t.onCopy,i=t.children,c=t.options,a=d.default.Children.only(i),l=(0,m.default)(n,c);r&&r(n,l),a&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(o)})),e}var e,n,r;return function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),t&&O(o,t)}(t,d["default"].PureComponent),e=t,n=[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var t=o.children,e=h(o,["text","onCopy","options","children"]),n=d.default.Children.only(t);return d.default.cloneElement(n,function(o){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?b(e,!0).forEach((function(t){j(o,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):b(e).forEach((function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(e,t))}))}return o}({},e,{onClick:this.onClick}))}}],n&&g(e.prototype,n),r&&g(e,r),t}();l.CopyToClipboard=D,j(D,"defaultProps",{onCopy:void 0,options:void 0});var P=l.CopyToClipboard;P.CopyToClipboard=P;var E=P;c('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.common-tooltip{cursor:pointer;font-family:Roboto,sans-serif;position:relative}.common-tooltip .common-tooltip-children{box-sizing:border-box;display:block;max-width:121px;overflow:hidden;padding-right:16px;position:relative;text-overflow:ellipsis;white-space:nowrap}.common-tooltip .common-tooltip-children.no-clipboard{padding-right:0}.common-tooltip .common-tooltip-children.medium{max-width:100px}.common-tooltip .common-tooltip-children.narrow{max-width:60px}.common-tooltip .common-tooltip-children .icon{color:#0b6cff;vertical-align:baseline}.common-tooltip .common-tooltip-children .clipboard{display:none;position:absolute;right:0}.common-tooltip .common-tooltip-content{background-color:#232831;border-radius:4px;bottom:150%;color:#fff;cursor:default;display:none;font-size:14px;left:0;padding:5px 10px;position:absolute;transform:translateX(-32%);white-space:pre}.common-tooltip .common-tooltip-content.position-right{transform:translateX(-8%)}.common-tooltip .common-tooltip-content:after{border-color:#232831 transparent transparent;border-style:solid;border-width:7px 5px 0;content:"";height:0;left:50%;position:absolute;top:98%;transform:translateX(-50%);width:0}.common-tooltip .common-tooltip-content.tooltip-boxed{white-space:normal;width:200px}.common-tooltip .common-tooltip-content-hidden{display:none!important}.common-tooltip:hover .common-tooltip-content{display:block}.common-tooltip:hover .common-tooltip-children .clipboard{display:inline-block}');var S=function(r){var c=r.content,l=void 0===c?"":c,p=r.children,s=r.noClipboard,u=void 0!==s&&s,d=r.positionRight,m=void 0!==d&&d,f=r.narrow,y=void 0!==f&&f,b=r.medium,h=void 0!==b&&b,v=r.isBoxed,g=void 0!==v&&v,w=r.isTooltipShownOnOverflowOnly,x=void 0!==w&&w,C=r.onCopySuccess,O=n.useRef(null),j=n.useRef(null);return n.useEffect((function(){var o=function(){x&&j.current&&O.current&&(O.current.scrollWidth>O.current.clientWidth?j.current.classList.remove("common-tooltip-content-hidden"):j.current.classList.add("common-tooltip-content-hidden"))};return o(),window.addEventListener("resize",o),function(){return window.removeEventListener("resize",o)}}),[l,p,x]),t("div",o({className:"common-tooltip"},{children:[e("span",o({ref:j,className:i("common-tooltip-content",{"position-right":m,"tooltip-boxed":g})},{children:l})),t("span",o({ref:O,className:i("common-tooltip-children",{narrow:y,medium:h,"no-clipboard":u})},{children:[p||l,!u&&e("span",o({className:"clipboard"},{children:e(E.CopyToClipboard,o({text:l,onCopy:C},{children:e(a,{name:"icon fa-icon-clipboard"})}))}))]}))]}))};export{S as Tooltip};
