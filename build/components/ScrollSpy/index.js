import{b as e,_ as t}from"../../tslib.es6-ee5f1b9a.js";import{jsx as n}from"react/jsx-runtime";import*as o from"react";import{c as i}from"../../index-6ea95111.js";import{debounce as s}from"../../utils/common.js";var r=function(o){function r(e){var t=o.call(this,e)||this;return t.getElements=function(){return t.props.items.map((function(e){return document.getElementById(e.elementId)})).filter(Boolean)},t.setActiveSection=function(){var e=t.props,n=e.items,o=e.offset;if(!(n.length<=0)){for(var i=t.props.items[0].elementId,s=o||100,r=0;r<n.length;r++){var c=t.getElements()[r];if(!c)return;window.pageYOffset+s>c.offsetTop&&(i=c.id)}t.setState({activeSessionId:i})}},t.debounceSetActiveSession=s(t.setActiveSection,100),t.scrollTo=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},t.state={activeSessionId:null},t}return e(r,o),r.prototype.componentDidMount=function(){this.setActiveSection(),window.addEventListener("scroll",this.debounceSetActiveSession)},r.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.debounceSetActiveSession)},r.prototype.render=function(){var e=this,o=this.props.className,s=this.state.activeSessionId;return n("ul",t({className:i("scrollSpyContainer",o)},{children:this.props.items.map((function(o,r){return n("li",t({className:i({active:s===o.elementId}),onClick:function(){return e.scrollTo(o.elementId)},"data-qa-id":o.dataQa},{children:o.text}),"".concat(o.elementId,"-").concat(r))}))}))},r}(o.Component);export{r as ScrollSpy};
