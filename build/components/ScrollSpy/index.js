import{b as t,_ as e}from"../../tslib.es6-ee5f1b9a.js";import{jsx as o}from"react/jsx-runtime";import*as n from"react";import{c as i}from"../../index-6ea95111.js";import{debounce as s}from"../../utils/common.js";import{s as r}from"../../style-inject.es-1f59c1d0.js";r('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.scrollSpyContainer{background-color:#fff;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.25);display:block;height:fit-content;list-style-type:none;padding:8px;position:sticky;top:0;width:240px}.scrollSpyContainer li{align-items:center;border-radius:4px;display:flex;font-family:Roboto,sans-serif;height:40px;padding:0 24px}.scrollSpyContainer li.active,.scrollSpyContainer li:hover{background-color:#eff5ff;color:#0b6cff;cursor:pointer;font-weight:500}');var c=function(n){function r(t){var e=n.call(this,t)||this;return e.getElements=function(){return e.props.items.map((function(t){return document.getElementById(t.elementId)})).filter(Boolean)},e.setActiveSection=function(){var t=e.props,o=t.items,n=t.offset;if(!(o.length<=0)){for(var i=e.props.items[0].elementId,s=n||100,r=0;r<o.length;r++){var c=e.getElements()[r];if(!c)return;window.pageYOffset+s>c.offsetTop&&(i=c.id)}e.setState({activeSessionId:i})}},e.debounceSetActiveSession=s(e.setActiveSection,100),e.scrollTo=function(t){var e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})},e.state={activeSessionId:null},e}return t(r,n),r.prototype.componentDidMount=function(){this.setActiveSection(),window.addEventListener("scroll",this.debounceSetActiveSession)},r.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.debounceSetActiveSession)},r.prototype.render=function(){var t=this,n=this.props.className,s=this.state.activeSessionId;return o("ul",e({className:i("scrollSpyContainer",n)},{children:this.props.items.map((function(n,r){return o("li",e({className:i({active:s===n.elementId}),onClick:function(){return t.scrollTo(n.elementId)},"data-qa-id":n.dataQa},{children:n.text}),"".concat(n.elementId,"-").concat(r))}))}))},r}(n.Component);export{c as ScrollSpy};
