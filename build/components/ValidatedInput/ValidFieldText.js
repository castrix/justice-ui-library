import{b as e,_ as t}from"../../tslib.es6-ee5f1b9a.js";import{jsxs as i,jsx as o}from"react/jsx-runtime";import*as n from"react";import{c as s}from"../../index-6ea95111.js";import{R as r}from"../../server-ce56d26a.js";import{F as a}from"../../index-43328cc2.js";import{s as l}from"../../style-inject.es-1f59c1d0.js";import{FieldLabel as p,FieldCounter as d,FieldErrorMessage as c,FieldHelperText as m}from"../Form/utility/index.js";import{InlinePopover as f}from"../Popover/InlinePopover.js";import{isForbiddenKey as u}from"../../utils/input.js";import"../../index-dd80248b.js";import"stream";import"../../objectWithoutPropertiesLoose-982ef579.js";import"../../inherits-d3723d19.js";import"../../setPrototypeOf-c6ba02e6.js";import"styled-components";import"../../objectWithoutProperties-90b89624.js";import"../../get-ae46b391.js";import"../../unsupportedIterableToArray-0ca076cc.js";import"../../index-1d853662.js";import"../../context-f854a00e.js";import"../../use-memo-one.esm-19c0a4a5.js";import"../../Label-c8e362ff.js";import"../../_commonjsHelpers-6e998e78.js";import"../../core.esm-a8712816.js";import"../../inheritsLoose-6fd5c6e3.js";import"../../unitless.esm-d94354fa.js";import"../../index-3a62d731.js";import"../../noop-2d37c277.js";import"../../slicedToArray-a622878d.js";import"../../nonIterableRest-e93b6547.js";import"../../index-72b69d08.js";import"../../utils/i18n/index.js";import"../../utils/i18n/loadLanguages.js";import"../../constants/common.js";import"../../utils/typography.js";import"../../math-e1449457.js";import"../../elevation-cced2590.js";import"../../Popper-41fbf670.js";import"../../memoize-one.esm-8827f1ac.js";import"../../types/enum.js";l('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.valid-field-text{font-family:Roboto,sans-serif;position:relative}.valid-field-text .field-info{color:#b8bfcd;font-size:16px;margin-top:10px}.valid-field-text .ValidFieldInformation,.valid-field-text .fieldHeader{align-items:baseline;display:flex;justify-content:space-between;white-space:pre-wrap}.valid-field-text .ValidFieldInformation.pushRight,.valid-field-text .fieldHeader.pushRight{justify-content:flex-end}.valid-field-text .fieldHeader>label:not(.withTooltip){display:initial}.valid-field-text div>label{display:none}.valid-field-text .valid-field-text-input-container{height:40px;position:relative}.valid-field-text .valid-field-text-input-container [class|=Content__ChildWrapper]>[class|=Content]{border:1px solid #b8bfcd}.valid-field-text .valid-field-text-input-container [class|=Content__ChildWrapper]>[class|=Content]:hover{border:1px solid #687792}.valid-field-text .valid-field-text-input-container.focusedFieldText [class|=Content__ChildWrapper]>[class|=Content]{border:2px solid #0b6cff}.valid-field-text .valid-field-text-input-container .rightIcon{display:flex;flex-direction:column;height:100%;justify-content:center;padding:0 10px;position:absolute;right:0;top:0}');var h=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return e(i,t),i.prototype.componentWillReceiveProps=function(e,t){this.props.value===e.value||this.setState({value:e.value})},i}(a),v=function(a){function l(e){var t=a.call(this,e)||this;if(t.toolTipRef=n.createRef(),t.hideTooltip=function(){t.toolTipRef&&t.toolTipRef.current&&r.hide(t.toolTipRef.current)},t.showTooltip=function(){t.toolTipRef&&t.toolTipRef.current&&t.props.showTooltipOnFocus&&r.show(t.toolTipRef.current)},t.handleBlur=function(e){var i=t.props.onBlur;if(t.hideTooltip(),"function"==typeof i)return i(e);t.setState({isFocus:!1})},t.handleFocus=function(e){var i=t.props.onFocus;i&&i(e),t.showTooltip(),t.setState({isFocus:!0})},t.handleOnKeyDown=function(e){var i=t.props,o=i.onKeyDown,n=i.type,s=i.min,r=i.isFloat,a=e.key,l=e.ctrlKey;"number"===n&&!l&&u(a,s,r)&&e.preventDefault(),o&&o(e)},t.renderInput=function(){var e=t.props,i=e.placeholder,n=e.name,s=e.value,r=e.disabled,a=e.type,l=e.min,p=e.max,d=e.maxLength,c=e.autoComplete,m=e.onChange;return o(h,{isLabelHidden:!1,onFocus:t.handleFocus,onBlur:t.handleBlur,placeholder:i,name:n,value:s,onChange:m,disabled:r,type:a,min:l,max:p,shouldFitContainer:!0,onKeyDown:t.handleOnKeyDown,maxLength:d,autoComplete:c})},t.state={isFocus:!1},"number"===e.type&&"number"==typeof e.maxLength)throw new Error('prop maxLength cannot be used when prop type="number"');return t}return e(l,a),l.prototype.componentDidMount=function(){setTimeout((function(){r.rebuild()}),100)},l.prototype.componentWillUnmount=function(){this.hideTooltip()},l.prototype.render=function(){var e=this.props,n=e.label,r=void 0===n?"":n,a=e.value,l=e.maxLength,u=e.className,h=e.optionalLabel,v=e.errMessage,x=e.isLabelHidden,j=e.helperText,b=e.tooltip,y=e.dataQa,g=e.dataQaProps,T=e.rightIcon,R=e.validFieldTextRef,F=e.popoverContent,w=e.popoverPlacement,C=e.popoverType,L=e.customField,I=e.isRequired,P=void 0===I||I,_=e.isInvalid,H=void 0===_||_,W=this.state.isFocus;return i("div",t({className:s(u,"valid-field-text"),"data-qa-id":y,"data-qa-props":g,ref:R},{children:[i("div",t({className:s("fieldHeader",{pushRight:!r&&!P})},{children:[!x&&o(p,{label:r,optionalLabel:h,isRequired:P,tooltip:b,tooltipRef:this.toolTipRef}),!!l&&o(d,{value:a,maxLength:l,className:"px-0"})]})),i("div",t({className:s("valid-field-text-input-container",{focusedFieldText:this.state.isFocus})},{children:[F?o(f,t({isOpen:W,placement:w,content:F,type:C},{children:this.renderInput()})):this.renderInput(),!!T&&o("div",t({className:"rightIcon"},{children:T}))]})),L,H&&v&&o(c,{message:v}),j&&o(m,{message:j})]}))},l}(n.Component);export{h as Input,v as ValidFieldText};
