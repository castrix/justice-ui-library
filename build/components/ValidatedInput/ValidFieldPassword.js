import{b as e,_ as o}from"../../tslib.es6-ee5f1b9a.js";import{jsx as t,jsxs as r,Fragment as s}from"react/jsx-runtime";import*as i from"react";import{ValidFieldText as n}from"./ValidFieldText.js";import{c as a}from"../../index-6ea95111.js";import{R as p}from"../../server-a8c06485.js";import{s as l}from"../../style-inject.es-1f59c1d0.js";import"../../constants/containerSize.js";import{DEFAULT_PASSWORD_AND_SECRET_REGEX as d}from"../../constants/common.js";import"../../constants/password.js";import"../../purify.es-49746c08.js";import{generatePassword as c}from"../../utils/password.js";import{Button as m}from"../styled-atlaskit/Button/Button.js";import{translation as f}from"../../utils/i18n/index.js";import"../../index-c785337e.js";import"../../objectWithoutPropertiesLoose-982ef579.js";import"../../inherits-d3723d19.js";import"../../setPrototypeOf-c6ba02e6.js";import"styled-components";import"../../objectWithoutProperties-90b89624.js";import"../../get-ae46b391.js";import"../../unsupportedIterableToArray-0ca076cc.js";import"../../index-23957f85.js";import"../../index-dd80248b.js";import"../../context-f854a00e.js";import"../../use-memo-one.esm-19c0a4a5.js";import"../../Label-1adbf1c8.js";import"../../_commonjsHelpers-6e998e78.js";import"../../core.esm-3344e74f.js";import"../../inheritsLoose-6fd5c6e3.js";import"../../unitless.esm-d94354fa.js";import"../../warning-30f12e47.js";import"../../noop-2d37c277.js";import"../../slicedToArray-a622878d.js";import"../../nonIterableRest-e93b6547.js";import"../../index-72b69d08.js";import"../Form/utility/index.js";import"../../index-3a428ecb.js";import"crypto";import"../../utils/typography.js";import"../../types/enum.js";import"stream";import"../../utils/i18n/loadLanguages.js";import"../Popover/InlinePopover.js";import"../../math-5613ed25.js";import"../../elevation-3ea968cc.js";import"../../Popper-8a7612b4.js";import"../../memoize-one.esm-8827f1ac.js";import"../../utils/input.js";import"../../objectSpread-31108fba.js";l('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.valid-field-password{font-family:Roboto,sans-serif;position:relative}.valid-field-password .password-field-text input{padding-right:24px}.valid-field-password .password-field-text .password-eye-icon{color:#687792;cursor:pointer}.valid-field-password .password-field-text .password-eye-icon:hover{color:#232831}.valid-field-password .generate-password{color:#0b6cff;cursor:pointer;display:inline-block;padding:0;text-decoration:none}.valid-field-password .generate-password :focus{outline:none}.valid-field-password .level{font-size:16px;margin-top:5px;position:absolute;right:0;text-transform:capitalize}.valid-field-password .level.poor{color:#e32626}.valid-field-password .level.weak{color:#f1a20a}.valid-field-password .level.good{color:#025896}.valid-field-password .level.average{color:#687792}.valid-field-password .level.excellent{color:#00642e}');var u=function(l){function u(e){var n=l.call(this,e)||this;return n.toolTipIconEye=i.createRef(),n.toggleIconEyeOff=function(){n.setState((function(e){return{isIconEyeOff:!e.isIconEyeOff}}),(function(){return n.resetTooltipIconEye()}))},n.resetTooltipIconEye=function(){n.toolTipIconEye&&n.toolTipIconEye.current&&(p.hide(n.toolTipIconEye.current),p.show(n.toolTipIconEye.current))},n.hideTooltip=function(){n.toolTipIconEye&&n.toolTipIconEye.current&&p.hide(n.toolTipIconEye.current)},n.handleEyeIcon=function(){var e=n.state.isIconEyeOff;return r(s,{children:[t("i",{ref:n.toolTipIconEye,"data-for":"eyeInfo__tooltip","data-tip":f(e?"password.viewPassword":"password.hiddenPassword"),"data-place":"top",className:a("password-eye-icon",{"fa-icon-eye":!e,"fa-icon-eye-off":e}),onClick:n.toggleIconEyeOff}),t(p,{effect:"solid",id:"eyeInfo__tooltip",html:!0})]})},n.handleFieldType=function(){return n.state.isIconEyeOff?"password":"text"},n.handleGeneratePassword=function(){var e=n.props,o=e.customPattern,t=e.onChange,r=e.name;t&&t({target:{name:r,value:c(o||d)}})},n.handleGenerateText=function(){var e=n.props,i=e.hasGeneratePassword,p=e.strengthLevelIndicator,l=e.customField,d=n.state.levelColor;return r(s,{children:[i&&t(m,o({appearance:"link",spacing:"none",className:"generate-password",onClick:n.handleGeneratePassword},{children:f("password.generateNew")})),p&&t("span",o({className:a("level",d)},{children:f("password.".concat(p))})),l]})},n.state={isIconEyeOff:!0,levelColor:""},n}return e(u,l),u.prototype.componentDidMount=function(){setTimeout((function(){p.rebuild()}),100)},u.prototype.componentWillUnmount=function(){this.hideTooltip()},u.getDerivedStateFromProps=function(e,o){return e.strengthLevelIndicator!==o.levelColor?{levelColor:e.strengthLevelIndicator}:""},u.prototype.render=function(){return t("div",o({className:"valid-field-password"},{children:t(n,o({},this.props,{rightIcon:this.handleEyeIcon(),type:this.handleFieldType(),className:a(this.props.className,"password-field-text"),customField:this.handleGenerateText()}))}))},u}(i.Component);export{u as ValidFieldPassword};
