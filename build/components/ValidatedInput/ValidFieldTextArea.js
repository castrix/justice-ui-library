import{a as e,_ as t}from"../../tslib.es6-ee5f1b9a.js";import{jsxs as n,jsx as r}from"react/jsx-runtime";import o,{useContext as i,useRef as a,useEffect as c,Component as s,useCallback as l,useMemo as u,forwardRef as d}from"react";import{c as f}from"../../index-6ea95111.js";import{_ as p,a as m,b as v,c as h,e as y,d as b}from"../../inherits-d3723d19.js";import{_ as g,a as x}from"../../setPrototypeOf-c6ba02e6.js";import j,{css as O}from"styled-components";import{_ as A}from"../../objectWithoutPropertiesLoose-982ef579.js";import{_ as E}from"../../objectWithoutProperties-90b89624.js";import{_ as C,a as k}from"../../get-ae46b391.js";import{P as w}from"../../index-8cad2dd6.js";import{A as R}from"../../context-f854a00e.js";import{u as P}from"../../use-memo-one.esm-19c0a4a5.js";import{L as N,F}from"../../Label-ff1ee913.js";import{FieldLabel as _,FieldCounter as T,FieldErrorMessage as D,FieldHelperText as I}from"../Form/utility/index.js";import"../../unsupportedIterableToArray-0ca076cc.js";import"../../index-dd80248b.js";import"../../_commonjsHelpers-6e998e78.js";import"../../core.esm-3344e74f.js";import"../../inheritsLoose-6fd5c6e3.js";import"../../unitless.esm-d94354fa.js";import"../../warning-e55cfeb7.js";import"../../noop-2d37c277.js";import"../../slicedToArray-a622878d.js";import"../../nonIterableRest-e93b6547.js";import"../../index-72b69d08.js";import"../../server-a8c06485.js";import"stream";import"../../utils/i18n/index.js";import"../../utils/i18n/loadLanguages.js";import"../../constants/common.js";import"../../utils/typography.js";function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){function e(t){var n=this;v(this,e),g(this,"_isAnalyticsEvent",!0),g(this,"clone",(function(){return new e({payload:S({},n.payload)})})),this.payload=t.payload}return p(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===m(e)&&(this.payload=S(S({},this.payload),e)),this}}]),e}();function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var z=function(e){h(n,L);var t=H(n);function n(e){var r;return v(this,n),r=t.call(this,e),g(x(r),"_isUIAnalyticsEvent",!0),g(x(r),"clone",(function(){return r.hasFired?("production"===process.env.NODE_ENV||process.env.CI||console.warn("Cannot clone an event after it's been fired."),null):new n({context:C(r.context),handlers:C(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),g(x(r),"fire",(function(e){r.hasFired?"production"===process.env.NODE_ENV||process.env.CI||console.warn("Cannot fire an event twice."):(r.handlers.forEach((function(t){return t(x(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return p(n,[{key:"update",value:function(e){return this.hasFired?("production"===process.env.NODE_ENV||process.env.CI||console.warn("Cannot update an event after it's been fired."),this):k(y(n.prototype),"update",this).call(this,e)}}]),n}(),V=function(){return i(R)};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var q={getAtlaskitAnalyticsContext:w.func,getAtlaskitAnalyticsEventHandlers:w.func},W=function(){return[]},U=function(e){h(n,s);var t=B(n);function n(e){var r;return v(this,n),r=t.call(this,e),g(x(r),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:r.getAnalyticsContext}})),g(x(r),"getAnalyticsContext",(function(){var e=r.props.data,t=r.context.getAtlaskitAnalyticsContext;return[].concat(C((void 0===t?W:t)()),[e])})),g(x(r),"getAnalyticsEventHandlers",(function(){var e=r.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?W:e)()})),r.contextValue={getAtlaskitAnalyticsContext:r.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers},r}return p(n,[{key:"render",value:function(){var e=this.props.children;return o.createElement(R.Provider,{value:this.contextValue},e)}}]),n}();g(U,"contextTypes",q),g(U,"childContextTypes",q);var J=U,K=function(e){var t=e.data,n=e.children,r=function(e){var t=a(e);return c((function(){t.current=e}),[e]),t}(t),i=V(),s=l((function(){return[].concat(C(i.getAtlaskitAnalyticsContext()),[r.current])}),[i,r]),d=u((function(){return{getAtlaskitAnalyticsContext:s,getAtlaskitAnalyticsEventHandlers:i.getAtlaskitAnalyticsEventHandlers}}),[i,s]);return o.createElement(R.Provider,{value:d},n)},Q="undefined"!=typeof process&&process.env.ANALYTICS_NEXT_MODERN_CONTEXT?K:J;function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){return function(t){var n=d((function(n,r){var i=n.analyticsContext,a=E(n,["analyticsContext"]),c=u((function(){return Y(Y({},e),i)}),[i]);return o.createElement(Q,{data:c},o.createElement(t,A({},a,{ref:r})))}));return n.displayName="WithAnalyticsContext(".concat(t.displayName||t.name,")"),n}};function Z(){var e=V();return{createAnalyticsEvent:P((function(t){return new z({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Z(),r=n.createAnalyticsEvent,o=a({}),i=u((function(){var n=o.current;return Object.keys(n).filter((function(t){return!(t in e)})).forEach((function(e){return delete n[e]})),Object.keys(e).reduce((function(o,i){var a=e[i];if(!["object","function"].includes(m(a)))return o;var c=t[i];if(i in n&&n[i].eventCreator===a&&n[i].propValue===c)return ee(ee({},o),{},g({},i,n[i].wrappedCallback));var s=function(){var e="function"==typeof a?a(r,t):r(a);if(c&&"function"==typeof c){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];c.apply(void 0,o.concat([e]))}};return n[i]={eventCreator:a,wrappedCallback:s,propValue:c},ee(ee({},o),{},g({},i,s))}),{})}),[e,t,r,o]);return{patchedEventProps:i}}var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=d((function(n,r){var i=te(e,n).patchedEventProps,a=Z().createAnalyticsEvent;return o.createElement(t,A({},n,i,{createAnalyticsEvent:a,ref:r}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}};function re(e){if(e&&e.theme){if(ae in e.theme)return e.theme[ae];if("mode"in e.theme&&se.includes(e.theme.mode))return e.theme}return{mode:ce}}var oe,ie=function(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=re(e);if(e&&e[n]&&r){var o=r[e[n]];if(o&&o[t.mode]){var i=o[t.mode];if(i)return i}}return""};var n,r,o=e;return function(e){var t=re(e);if(t.mode in o){var n=o[t.mode];if(n)return n}return""}}({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),ae="__ATLASKIT_THEME__",ce="light",se=["light","dark"],le=function(){return 14},ue=O(["\n  color: ",";\n"],ie),de=j.textarea.withConfig({displayName:"TextArea",componentId:"l4fqfr-0"})(["\n  background: transparent;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: inherit;\n  font-family: ",";\n  font-size: ","px;\n  line-height: ",";\n  min-width: 0;\n  outline: none;\n  width: 100%;\n\n  [disabled] {\n    ",";\n  }\n\n  "," ","\n\n  &::-ms-clear {\n    display: none;\n  }\n\n  &:invalid {\n    box-shadow: none;\n  }\n\n  ",";\n"],(function(e){return e.isMonospaced?"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace":"inherit"}),le,20/14,"\n  -webkit-text-fill-color: unset;\n  -webkit-opacity: 1;\n",(function(e){var t=e.minimumRows;return"min-height: ".concat(20*t,"px;")}),(function(e){var t=e.enableResize;return t?"horizontal"===t?"resize: horizontal;":"vertical"===t?"resize: vertical;":null:"resize: none;"}),O(["\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    ",";\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    "," opacity: 1;\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    ",";\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    "," opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    ",";\n  }\n"],oe=ue,oe,oe,oe,oe));function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var pe="@atlaskit/field-text-area",me=j.div.withConfig({displayName:"FieldTextAreaStateless__Wrapper",componentId:"sc-159dr31-0"})(["\n  flex: 1 1 100%;\n"]);"production"===process.env.NODE_ENV||process.env.CI||console.warn("@atlaskit/field-text-area has been deprecated. Please use the @atlaskit/textarea package instead.");var ve=function(e){h(n,s);var t=fe(n);function n(){var e;v(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g(x(e),"input",void 0),e}return p(n,[{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoFocus,r=t.compact,i=t.disabled,a=t.id,c=t.invalidMessage,s=t.isInvalid,l=t.isLabelHidden,u=t.isMonospaced,d=t.isReadOnly,f=t.isSpellCheckEnabled,p=t.label,m=t.maxLength,v=t.minimumRows,h=t.name,y=t.onBlur,b=t.onChange,g=t.onFocus,x=t.placeholder,j=t.enableResize,O=t.required,A=t.shouldFitContainer,E=t.value,C=t.isValidationHidden;return o.createElement(me,null,!l&&o.createElement(N,{htmlFor:a,isDisabled:i,isLabelHidden:l,isRequired:O,label:p}),o.createElement(F,{isCompact:r,isDisabled:i,isInvalid:s,isReadOnly:d,isRequired:O,invalidMessage:c,isFitContainerWidthEnabled:A,isValidationHidden:C},o.createElement(de,{disabled:i,readOnly:d,name:h,placeholder:x,value:E,required:O,isMonospaced:u,minimumRows:v,enableResize:j,onBlur:y,onChange:b,onFocus:g,id:a,autoFocus:n,spellCheck:f,maxLength:m,innerRef:function(t){e.input=t}})))}}]),n}();g(ve,"defaultProps",{compact:!1,disabled:!1,isReadOnly:!1,required:!1,isInvalid:!1,label:"",type:"text",isSpellCheckEnabled:!0,minimumRows:1,isValidationHidden:!1});var he,ye=(he="atlaskit",function(e){return function(t){var n=t(e),r=n.clone();return r&&r.fire(he),n}}),be=G({componentName:"fieldTextArea",packageName:pe,packageVersion:"8.0.7"})(ne({onBlur:ye({action:"blurred",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:pe,packageVersion:"8.0.7"}}),onFocus:ye({action:"focused",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:pe,packageVersion:"8.0.7"}})})(ve)),ge=function(i){var a=i.label,c=void 0===a?"":a,s=i.placeholder,l=i.value,u=i.errMessage,d=i.helperText,p=i.tooltip,m=i.shouldFitContainer,v=void 0===m||m,h=i.isRequired,y=void 0===h||h,b=i.isInvalid,g=void 0===b||b,x=i.minimumRows,j=i.onBlur,O=i.maxLength,A=i.onChange,E=i.dataQa,C=i.optionalLabel,k=e(i,["label","placeholder","value","errMessage","helperText","tooltip","shouldFitContainer","isRequired","isInvalid","minimumRows","onBlur","maxLength","onChange","dataQa","optionalLabel"]),w=o.useState(!1),R=w[0],P=w[1];return n("div",t({className:"valid-field-text-area","data-qa-id":E},{children:[n("div",t({className:f("fieldHeader",{pushRight:!c&&!!O})},{children:[c&&r(_,{label:c,optionalLabel:C,isRequired:y,tooltip:p}),!!O&&r(T,{value:l,maxLength:O})]})),r("div",t({className:f("valid-field-text-area-container",{focusedFieldText:R})},{children:r(be,t({onFocus:function(){P(!0)},onBlur:function(e){P(!1),j&&j(e)},onChange:A,isLabelHidden:!0,value:l,shouldFitContainer:v,minimumRows:x,placeholder:s},k))})),n("div",t({className:f("fieldInformationTextArea")},{children:[g&&u&&r(D,{message:u}),d&&r(I,{message:d})]}))]}))};export{ge as ValidFieldTextArea};
