import{a as e,_ as t}from"../../tslib.es6-ee5f1b9a.js";import{jsxs as n,jsx as r}from"react/jsx-runtime";import a,{useContext as o,useRef as i,useEffect as s,Component as c,useCallback as l,useMemo as u,forwardRef as d}from"react";import{c as f}from"../../index-6ea95111.js";import{_ as p,a as m,b as v,c as h,e as y,d as b}from"../../inherits-d3723d19.js";import{_ as g,a as x}from"../../setPrototypeOf-c6ba02e6.js";import j,{css as O}from"styled-components";import{_ as A}from"../../objectWithoutPropertiesLoose-982ef579.js";import{_ as C}from"../../objectWithoutProperties-90b89624.js";import{_ as E,a as w}from"../../get-ae46b391.js";import{P as k}from"../../index-8cad2dd6.js";import{A as R}from"../../context-f854a00e.js";import{u as P}from"../../use-memo-one.esm-19c0a4a5.js";import{L as _,F as N}from"../../Label-ff1ee913.js";import{s as F}from"../../style-inject.es-1f59c1d0.js";import{FieldLabel as T,FieldCounter as I,FieldErrorMessage as D,FieldHelperText as M}from"../Form/utility/index.js";import"../../unsupportedIterableToArray-0ca076cc.js";import"../../index-dd80248b.js";import"../../_commonjsHelpers-6e998e78.js";import"../../core.esm-3344e74f.js";import"../../inheritsLoose-6fd5c6e3.js";import"../../unitless.esm-d94354fa.js";import"../../warning-e55cfeb7.js";import"../../noop-2d37c277.js";import"../../slicedToArray-a622878d.js";import"../../nonIterableRest-e93b6547.js";import"../../index-72b69d08.js";import"../../server-a8c06485.js";import"stream";import"../../utils/i18n/index.js";import"../../utils/i18n/loadLanguages.js";import"../../constants/common.js";import"../../utils/typography.js";function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){function e(t){var n=this;v(this,e),g(this,"_isAnalyticsEvent",!0),g(this,"clone",(function(){return new e({payload:H({},n.payload)})})),this.payload=t.payload}return p(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===m(e)&&(this.payload=H(H({},this.payload),e)),this}}]),e}();function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}var z=function(e){h(n,L);var t=V(n);function n(e){var r;return v(this,n),r=t.call(this,e),g(x(r),"_isUIAnalyticsEvent",!0),g(x(r),"clone",(function(){return r.hasFired?("production"===process.env.NODE_ENV||process.env.CI||console.warn("Cannot clone an event after it's been fired."),null):new n({context:E(r.context),handlers:E(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),g(x(r),"fire",(function(e){r.hasFired?"production"===process.env.NODE_ENV||process.env.CI||console.warn("Cannot fire an event twice."):(r.handlers.forEach((function(t){return t(x(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return p(n,[{key:"update",value:function(e){return this.hasFired?("production"===process.env.NODE_ENV||process.env.CI||console.warn("Cannot update an event after it's been fired."),this):w(y(n.prototype),"update",this).call(this,e)}}]),n}(),B=function(){return o(R)};function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}var q={getAtlaskitAnalyticsContext:k.func,getAtlaskitAnalyticsEventHandlers:k.func},U=function(){return[]},J=function(e){h(n,c);var t=W(n);function n(e){var r;return v(this,n),r=t.call(this,e),g(x(r),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:r.getAnalyticsContext}})),g(x(r),"getAnalyticsContext",(function(){var e=r.props.data,t=r.context.getAtlaskitAnalyticsContext;return[].concat(E((void 0===t?U:t)()),[e])})),g(x(r),"getAnalyticsEventHandlers",(function(){var e=r.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?U:e)()})),r.contextValue={getAtlaskitAnalyticsContext:r.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers},r}return p(n,[{key:"render",value:function(){var e=this.props.children;return a.createElement(R.Provider,{value:this.contextValue},e)}}]),n}();g(J,"contextTypes",q),g(J,"childContextTypes",q);var K=J,Q=function(e){var t=e.data,n=e.children,r=function(e){var t=i(e);return s((function(){t.current=e}),[e]),t}(t),o=B(),c=l((function(){return[].concat(E(o.getAtlaskitAnalyticsContext()),[r.current])}),[o,r]),d=u((function(){return{getAtlaskitAnalyticsContext:c,getAtlaskitAnalyticsEventHandlers:o.getAtlaskitAnalyticsEventHandlers}}),[o,c]);return a.createElement(R.Provider,{value:d},n)},X="undefined"!=typeof process&&process.env.ANALYTICS_NEXT_MODERN_CONTEXT?Q:K;function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){return function(t){var n=d((function(n,r){var o=n.analyticsContext,i=C(n,["analyticsContext"]),s=u((function(){return G(G({},e),o)}),[o]);return a.createElement(X,{data:s},a.createElement(t,A({},i,{ref:r})))}));return n.displayName="WithAnalyticsContext(".concat(t.displayName||t.name,")"),n}};function $(){var e=B();return{createAnalyticsEvent:P((function(t){return new z({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=$(),r=n.createAnalyticsEvent,a=i({}),o=u((function(){var n=a.current;return Object.keys(n).filter((function(t){return!(t in e)})).forEach((function(e){return delete n[e]})),Object.keys(e).reduce((function(a,o){var i=e[o];if(!["object","function"].includes(m(i)))return a;var s=t[o];if(o in n&&n[o].eventCreator===i&&n[o].propValue===s)return te(te({},a),{},g({},o,n[o].wrappedCallback));var c=function(){var e="function"==typeof i?i(r,t):r(i);if(s&&"function"==typeof s){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];s.apply(void 0,a.concat([e]))}};return n[o]={eventCreator:i,wrappedCallback:c,propValue:s},te(te({},a),{},g({},o,c))}),{})}),[e,t,r,a]);return{patchedEventProps:o}}var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=d((function(n,r){var o=ne(e,n).patchedEventProps,i=$().createAnalyticsEvent;return a.createElement(t,A({},n,o,{createAnalyticsEvent:i,ref:r}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}};function ae(e){if(e&&e.theme){if(se in e.theme)return e.theme[se];if("mode"in e.theme&&le.includes(e.theme.mode))return e.theme}return{mode:ce}}var oe,ie=function(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=ae(e);if(e&&e[n]&&r){var a=r[e[n]];if(a&&a[t.mode]){var o=a[t.mode];if(o)return o}}return""};var n,r,a=e;return function(e){var t=ae(e);if(t.mode in a){var n=a[t.mode];if(n)return n}return""}}({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),se="__ATLASKIT_THEME__",ce="light",le=["light","dark"],ue=function(){return 14},de=O(["\n  color: ",";\n"],ie),fe=j.textarea.withConfig({displayName:"TextArea",componentId:"l4fqfr-0"})(["\n  background: transparent;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: inherit;\n  font-family: ",";\n  font-size: ","px;\n  line-height: ",";\n  min-width: 0;\n  outline: none;\n  width: 100%;\n\n  [disabled] {\n    ",";\n  }\n\n  "," ","\n\n  &::-ms-clear {\n    display: none;\n  }\n\n  &:invalid {\n    box-shadow: none;\n  }\n\n  ",";\n"],(function(e){return e.isMonospaced?"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace":"inherit"}),ue,20/14,"\n  -webkit-text-fill-color: unset;\n  -webkit-opacity: 1;\n",(function(e){var t=e.minimumRows;return"min-height: ".concat(20*t,"px;")}),(function(e){var t=e.enableResize;return t?"horizontal"===t?"resize: horizontal;":"vertical"===t?"resize: vertical;":null:"resize: none;"}),O(["\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    ",";\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    "," opacity: 1;\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    ",";\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    "," opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    ",";\n  }\n"],oe=de,oe,oe,oe,oe));function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}var me="@atlaskit/field-text-area",ve=j.div.withConfig({displayName:"FieldTextAreaStateless__Wrapper",componentId:"sc-159dr31-0"})(["\n  flex: 1 1 100%;\n"]);"production"===process.env.NODE_ENV||process.env.CI||console.warn("@atlaskit/field-text-area has been deprecated. Please use the @atlaskit/textarea package instead.");var he=function(e){h(n,c);var t=pe(n);function n(){var e;v(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),g(x(e),"input",void 0),e}return p(n,[{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoFocus,r=t.compact,o=t.disabled,i=t.id,s=t.invalidMessage,c=t.isInvalid,l=t.isLabelHidden,u=t.isMonospaced,d=t.isReadOnly,f=t.isSpellCheckEnabled,p=t.label,m=t.maxLength,v=t.minimumRows,h=t.name,y=t.onBlur,b=t.onChange,g=t.onFocus,x=t.placeholder,j=t.enableResize,O=t.required,A=t.shouldFitContainer,C=t.value,E=t.isValidationHidden;return a.createElement(ve,null,!l&&a.createElement(_,{htmlFor:i,isDisabled:o,isLabelHidden:l,isRequired:O,label:p}),a.createElement(N,{isCompact:r,isDisabled:o,isInvalid:c,isReadOnly:d,isRequired:O,invalidMessage:s,isFitContainerWidthEnabled:A,isValidationHidden:E},a.createElement(fe,{disabled:o,readOnly:d,name:h,placeholder:x,value:C,required:O,isMonospaced:u,minimumRows:v,enableResize:j,onBlur:y,onChange:b,onFocus:g,id:i,autoFocus:n,spellCheck:f,maxLength:m,innerRef:function(t){e.input=t}})))}}]),n}();g(he,"defaultProps",{compact:!1,disabled:!1,isReadOnly:!1,required:!1,isInvalid:!1,label:"",type:"text",isSpellCheckEnabled:!0,minimumRows:1,isValidationHidden:!1});var ye,be=(ye="atlaskit",function(e){return function(t){var n=t(e),r=n.clone();return r&&r.fire(ye),n}}),ge=Z({componentName:"fieldTextArea",packageName:me,packageVersion:"8.0.7"})(re({onBlur:be({action:"blurred",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:me,packageVersion:"8.0.7"}}),onFocus:be({action:"focused",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:me,packageVersion:"8.0.7"}})})(he));F('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.valid-field-text-area{font-family:Roboto,sans-serif}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]{border:1px solid #b8bfcd}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]>textarea{min-height:100px}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]:hover{border:1px solid #687792}.valid-field-text-area [class|=ValidationElement__WarningIcon]{display:none}.valid-field-text-area .focusedFieldText [class|=Content__ChildWrapper]>[class|=Content]{border:2px solid #0b6cff}.valid-field-text-area .fieldHeader,.valid-field-text-area .fieldInformationTextArea{align-items:baseline;display:flex;justify-content:space-between}');var xe=function(o){var i=o.label,s=void 0===i?"":i,c=o.placeholder,l=o.value,u=o.errMessage,d=o.helperText,p=o.tooltip,m=o.shouldFitContainer,v=void 0===m||m,h=o.isRequired,y=void 0===h||h,b=o.isInvalid,g=void 0===b||b,x=o.minimumRows,j=o.onBlur,O=o.maxLength,A=o.onChange,C=o.dataQa,E=o.optionalLabel,w=e(o,["label","placeholder","value","errMessage","helperText","tooltip","shouldFitContainer","isRequired","isInvalid","minimumRows","onBlur","maxLength","onChange","dataQa","optionalLabel"]),k=a.useState(!1),R=k[0],P=k[1];return n("div",t({className:"valid-field-text-area","data-qa-id":C},{children:[n("div",t({className:f("fieldHeader",{pushRight:!s&&!!O})},{children:[s&&r(T,{label:s,optionalLabel:E,isRequired:y,tooltip:p}),!!O&&r(I,{value:l,maxLength:O})]})),r("div",t({className:f("valid-field-text-area-container",{focusedFieldText:R})},{children:r(ge,t({onFocus:function(){P(!0)},onBlur:function(e){P(!1),j&&j(e)},onChange:A,isLabelHidden:!0,value:l,shouldFitContainer:v,minimumRows:x,placeholder:c},w))})),n("div",t({className:f("fieldInformationTextArea")},{children:[g&&u&&r(D,{message:u}),d&&r(M,{message:d})]}))]}))};export{xe as ValidFieldTextArea};
