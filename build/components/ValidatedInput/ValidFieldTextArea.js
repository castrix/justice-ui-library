import{a as e,_ as t}from"../../tslib.es6-ee5f1b9a.js";import{jsxs as n,jsx as r}from"react/jsx-runtime";import o,{useContext as i,useRef as a,useEffect as s,Component as c,useCallback as l,useMemo as u,forwardRef as p}from"react";import{c as d}from"../../index-6ea95111.js";import{_ as f,a as m,b as v,c as h,e as y,d as b}from"../../inherits-d3723d19.js";import{_ as g,a as j}from"../../setPrototypeOf-c6ba02e6.js";import x,{css as O}from"styled-components";import{_ as A}from"../../objectWithoutPropertiesLoose-982ef579.js";import{_ as E}from"../../objectWithoutProperties-90b89624.js";import{_ as w,a as C}from"../../get-ae46b391.js";import{P as k}from"../../index-23957f85.js";import{A as R}from"../../context-f854a00e.js";import{u as P}from"../../use-memo-one.esm-19c0a4a5.js";import{L as N,F}from"../../Label-1adbf1c8.js";import"../../ValidFieldTextArea-bdf04cfa.js";import{FieldLabel as _,FieldCounter as T,FieldErrorMessage as S,FieldHelperText as D}from"../Form/utility/index.js";import"../../unsupportedIterableToArray-0ca076cc.js";import"../../index-dd80248b.js";import"../../_commonjsHelpers-6e998e78.js";import"../../core.esm-3344e74f.js";import"../../inheritsLoose-6fd5c6e3.js";import"../../unitless.esm-d94354fa.js";import"../../warning-30f12e47.js";import"../../noop-2d37c277.js";import"../../slicedToArray-a622878d.js";import"../../nonIterableRest-e93b6547.js";import"../../index-72b69d08.js";import"../../style-inject.es-1f59c1d0.js";import"../../constants/containerSize.js";import"../../types/enum.js";import"../../constants/common.js";import"../../constants/password.js";import"../../purify.es-49746c08.js";import"../../index-3a428ecb.js";import"crypto";import"../../utils/typography.js";import"../../server-a8c06485.js";import"stream";import"../../utils/i18n/index.js";import"../../utils/i18n/loadLanguages.js";function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){function e(t){var n=this;v(this,e),g(this,"_isAnalyticsEvent",!0),g(this,"clone",(function(){return new e({payload:M({},n.payload)})})),this.payload=t.payload}return f(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===m(e)&&(this.payload=M(M({},this.payload),e)),this}}]),e}();function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var z=function(e){h(n,L);var t=H(n);function n(e){var r;return v(this,n),r=t.call(this,e),g(j(r),"_isUIAnalyticsEvent",!0),g(j(r),"clone",(function(){return r.hasFired?("production"===process.env.NODE_ENV||process.env.CI||console.warn("Cannot clone an event after it's been fired."),null):new n({context:w(r.context),handlers:w(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),g(j(r),"fire",(function(e){r.hasFired?"production"===process.env.NODE_ENV||process.env.CI||console.warn("Cannot fire an event twice."):(r.handlers.forEach((function(t){return t(j(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return f(n,[{key:"update",value:function(e){return this.hasFired?("production"===process.env.NODE_ENV||process.env.CI||console.warn("Cannot update an event after it's been fired."),this):C(y(n.prototype),"update",this).call(this,e)}}]),n}(),V=function(){return i(R)};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var q={getAtlaskitAnalyticsContext:k.func,getAtlaskitAnalyticsEventHandlers:k.func},W=function(){return[]},U=function(e){h(n,c);var t=B(n);function n(e){var r;return v(this,n),r=t.call(this,e),g(j(r),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:r.getAnalyticsContext}})),g(j(r),"getAnalyticsContext",(function(){var e=r.props.data,t=r.context.getAtlaskitAnalyticsContext;return[].concat(w((void 0===t?W:t)()),[e])})),g(j(r),"getAnalyticsEventHandlers",(function(){var e=r.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?W:e)()})),r.contextValue={getAtlaskitAnalyticsContext:r.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers},r}return f(n,[{key:"render",value:function(){var e=this.props.children;return o.createElement(R.Provider,{value:this.contextValue},e)}}]),n}();g(U,"contextTypes",q),g(U,"childContextTypes",q);var J=U,K=function(e){var t=e.data,n=e.children,r=function(e){var t=a(e);return s((function(){t.current=e}),[e]),t}(t),i=V(),c=l((function(){return[].concat(w(i.getAtlaskitAnalyticsContext()),[r.current])}),[i,r]),p=u((function(){return{getAtlaskitAnalyticsContext:c,getAtlaskitAnalyticsEventHandlers:i.getAtlaskitAnalyticsEventHandlers}}),[i,c]);return o.createElement(R.Provider,{value:p},n)},Q="undefined"!=typeof process&&process.env.ANALYTICS_NEXT_MODERN_CONTEXT?K:J;function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){return function(t){var n=p((function(n,r){var i=n.analyticsContext,a=E(n,["analyticsContext"]),s=u((function(){return Y(Y({},e),i)}),[i]);return o.createElement(Q,{data:s},o.createElement(t,A({},a,{ref:r})))}));return n.displayName="WithAnalyticsContext(".concat(t.displayName||t.name,")"),n}};function Z(){var e=V();return{createAnalyticsEvent:P((function(t){return new z({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Z(),r=n.createAnalyticsEvent,o=a({}),i=u((function(){var n=o.current;return Object.keys(n).filter((function(t){return!(t in e)})).forEach((function(e){return delete n[e]})),Object.keys(e).reduce((function(o,i){var a=e[i];if(!["object","function"].includes(m(a)))return o;var s=t[i];if(i in n&&n[i].eventCreator===a&&n[i].propValue===s)return ee(ee({},o),{},g({},i,n[i].wrappedCallback));var c=function(){var e="function"==typeof a?a(r,t):r(a);if(s&&"function"==typeof s){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];s.apply(void 0,o.concat([e]))}};return n[i]={eventCreator:a,wrappedCallback:c,propValue:s},ee(ee({},o),{},g({},i,c))}),{})}),[e,t,r,o]);return{patchedEventProps:i}}var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=p((function(n,r){var i=te(e,n).patchedEventProps,a=Z().createAnalyticsEvent;return o.createElement(t,A({},n,i,{createAnalyticsEvent:a,ref:r}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}};function re(e){if(e&&e.theme){if(ae in e.theme)return e.theme[ae];if("mode"in e.theme&&ce.includes(e.theme.mode))return e.theme}return{mode:se}}var oe,ie=function(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=re(e);if(e&&e[n]&&r){var o=r[e[n]];if(o&&o[t.mode]){var i=o[t.mode];if(i)return i}}return""};var n,r,o=e;return function(e){var t=re(e);if(t.mode in o){var n=o[t.mode];if(n)return n}return""}}({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),ae="__ATLASKIT_THEME__",se="light",ce=["light","dark"],le=function(){return 14},ue=O(["\n  color: ",";\n"],ie),pe=x.textarea.withConfig({displayName:"TextArea",componentId:"l4fqfr-0"})(["\n  background: transparent;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: inherit;\n  font-family: ",";\n  font-size: ","px;\n  line-height: ",";\n  min-width: 0;\n  outline: none;\n  width: 100%;\n\n  [disabled] {\n    ",";\n  }\n\n  "," ","\n\n  &::-ms-clear {\n    display: none;\n  }\n\n  &:invalid {\n    box-shadow: none;\n  }\n\n  ",";\n"],(function(e){return e.isMonospaced?"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace":"inherit"}),le,20/14,"\n  -webkit-text-fill-color: unset;\n  -webkit-opacity: 1;\n",(function(e){var t=e.minimumRows;return"min-height: ".concat(20*t,"px;")}),(function(e){var t=e.enableResize;return t?"horizontal"===t?"resize: horizontal;":"vertical"===t?"resize: vertical;":null:"resize: none;"}),O(["\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    ",";\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    "," opacity: 1;\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    ",";\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    "," opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    ",";\n  }\n"],oe=ue,oe,oe,oe,oe));function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var fe="@atlaskit/field-text-area",me=x.div.withConfig({displayName:"FieldTextAreaStateless__Wrapper",componentId:"sc-159dr31-0"})(["\n  flex: 1 1 100%;\n"]);"production"===process.env.NODE_ENV||process.env.CI||console.warn("@atlaskit/field-text-area has been deprecated. Please use the @atlaskit/textarea package instead.");var ve=function(e){h(n,c);var t=de(n);function n(){var e;v(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g(j(e),"input",void 0),e}return f(n,[{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoFocus,r=t.compact,i=t.disabled,a=t.id,s=t.invalidMessage,c=t.isInvalid,l=t.isLabelHidden,u=t.isMonospaced,p=t.isReadOnly,d=t.isSpellCheckEnabled,f=t.label,m=t.maxLength,v=t.minimumRows,h=t.name,y=t.onBlur,b=t.onChange,g=t.onFocus,j=t.placeholder,x=t.enableResize,O=t.required,A=t.shouldFitContainer,E=t.value,w=t.isValidationHidden;return o.createElement(me,null,!l&&o.createElement(N,{htmlFor:a,isDisabled:i,isLabelHidden:l,isRequired:O,label:f}),o.createElement(F,{isCompact:r,isDisabled:i,isInvalid:c,isReadOnly:p,isRequired:O,invalidMessage:s,isFitContainerWidthEnabled:A,isValidationHidden:w},o.createElement(pe,{disabled:i,readOnly:p,name:h,placeholder:j,value:E,required:O,isMonospaced:u,minimumRows:v,enableResize:x,onBlur:y,onChange:b,onFocus:g,id:a,autoFocus:n,spellCheck:d,maxLength:m,innerRef:function(t){e.input=t}})))}}]),n}();g(ve,"defaultProps",{compact:!1,disabled:!1,isReadOnly:!1,required:!1,isInvalid:!1,label:"",type:"text",isSpellCheckEnabled:!0,minimumRows:1,isValidationHidden:!1});var he,ye=(he="atlaskit",function(e){return function(t){var n=t(e),r=n.clone();return r&&r.fire(he),n}}),be=G({componentName:"fieldTextArea",packageName:fe,packageVersion:"8.0.7"})(ne({onBlur:ye({action:"blurred",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:fe,packageVersion:"8.0.7"}}),onFocus:ye({action:"focused",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:fe,packageVersion:"8.0.7"}})})(ve)),ge=function(i){var a=i.label,s=void 0===a?"":a,c=i.placeholder,l=i.value,u=i.errMessage,p=i.helperText,f=i.tooltip,m=i.shouldFitContainer,v=void 0===m||m,h=i.isRequired,y=void 0===h||h,b=i.isInvalid,g=void 0===b||b,j=i.minimumRows,x=i.onBlur,O=i.maxLength,A=i.onChange,E=i.dataQa,w=i.optionalLabel,C=e(i,["label","placeholder","value","errMessage","helperText","tooltip","shouldFitContainer","isRequired","isInvalid","minimumRows","onBlur","maxLength","onChange","dataQa","optionalLabel"]),k=o.useState(!1),R=k[0],P=k[1];return n("div",t({className:"valid-field-text-area","data-qa-id":E},{children:[n("div",t({className:d("fieldHeader",{pushRight:!s&&!!O})},{children:[s&&r(_,{label:s,optionalLabel:w,isRequired:y,tooltip:f}),!!O&&r(T,{value:l,maxLength:O})]})),r("div",t({className:d("valid-field-text-area-container",{focusedFieldText:R})},{children:r(be,t({onFocus:function(){P(!0)},onBlur:function(e){P(!1),x&&x(e)},onChange:A,isLabelHidden:!0,value:l,shouldFitContainer:v,minimumRows:j,placeholder:c},C))})),n("div",t({className:d("fieldInformationTextArea")},{children:[g&&u&&r(S,{message:u}),p&&r(D,{message:p})]}))]}))};export{ge as ValidFieldTextArea};
