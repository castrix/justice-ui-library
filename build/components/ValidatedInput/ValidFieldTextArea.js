import{a as e,_ as t}from"../../tslib.es6-ee5f1b9a.js";import{jsxs as n,jsx as r}from"react/jsx-runtime";import i,{useContext as a,useRef as o,useEffect as s,Component as c,useCallback as l,useMemo as u,forwardRef as d}from"react";import{c as f}from"../../index-6ea95111.js";import{_ as p,a as m,b as h,c as v,e as y,d as b}from"../../inherits-d3723d19.js";import{_ as g,a as x}from"../../setPrototypeOf-c6ba02e6.js";import j,{css as O}from"styled-components";import{_ as A}from"../../objectWithoutPropertiesLoose-982ef579.js";import{_ as C}from"../../objectWithoutProperties-90b89624.js";import{_ as E,a as k}from"../../get-ae46b391.js";import{P as w}from"../../index-1d853662.js";import{A as R}from"../../context-f854a00e.js";import{u as P}from"../../use-memo-one.esm-19c0a4a5.js";import{L as _,F}from"../../Label-c8e362ff.js";import{s as N}from"../../style-inject.es-1f59c1d0.js";import{FieldLabel as T,FieldCounter as M,FieldErrorMessage as S,FieldHelperText as H}from"../Form/utility/index.js";import"../../unsupportedIterableToArray-0ca076cc.js";import"../../index-dd80248b.js";import"../../_commonjsHelpers-6e998e78.js";import"../../core.esm-a8712816.js";import"../../inheritsLoose-6fd5c6e3.js";import"../../unitless.esm-d94354fa.js";import"../../index-3a62d731.js";import"../../noop-2d37c277.js";import"../../slicedToArray-a622878d.js";import"../../nonIterableRest-e93b6547.js";import"../../index-72b69d08.js";import"../../server-ce56d26a.js";import"stream";import"../../utils/i18n/index.js";import"../../utils/i18n/loadLanguages.js";import"../../constants/common.js";import"../../utils/typography.js";function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){function e(t){var n=this;h(this,e),g(this,"_isAnalyticsEvent",!0),g(this,"clone",(function(){return new e({payload:I({},n.payload)})})),this.payload=t.payload}return p(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===m(e)&&(this.payload=I(I({},this.payload),e)),this}}]),e}();function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}var B=function(e){v(n,D);var t=z(n);function n(e){var r;return h(this,n),r=t.call(this,e),g(x(r),"_isUIAnalyticsEvent",!0),g(x(r),"clone",(function(){return r.hasFired?null:new n({context:E(r.context),handlers:E(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),g(x(r),"fire",(function(e){r.hasFired||(r.handlers.forEach((function(t){return t(x(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return p(n,[{key:"update",value:function(e){return this.hasFired?this:k(y(n.prototype),"update",this).call(this,e)}}]),n}(),W=function(){return a(R)};function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}var q={getAtlaskitAnalyticsContext:w.func,getAtlaskitAnalyticsEventHandlers:w.func},U=function(){return[]},J=function(e){v(n,c);var t=V(n);function n(e){var r;return h(this,n),r=t.call(this,e),g(x(r),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:r.getAnalyticsContext}})),g(x(r),"getAnalyticsContext",(function(){var e=r.props.data,t=r.context.getAtlaskitAnalyticsContext;return[].concat(E((void 0===t?U:t)()),[e])})),g(x(r),"getAnalyticsEventHandlers",(function(){var e=r.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?U:e)()})),r.contextValue={getAtlaskitAnalyticsContext:r.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers},r}return p(n,[{key:"render",value:function(){var e=this.props.children;return i.createElement(R.Provider,{value:this.contextValue},e)}}]),n}();g(J,"contextTypes",q),g(J,"childContextTypes",q);var K=J,Q=function(e){var t=e.data,n=e.children,r=function(e){var t=o(e);return s((function(){t.current=e}),[e]),t}(t),a=W(),c=l((function(){return[].concat(E(a.getAtlaskitAnalyticsContext()),[r.current])}),[a,r]),d=u((function(){return{getAtlaskitAnalyticsContext:c,getAtlaskitAnalyticsEventHandlers:a.getAtlaskitAnalyticsEventHandlers}}),[a,c]);return i.createElement(R.Provider,{value:d},n)},X="undefined"!=typeof process&&process.env.ANALYTICS_NEXT_MODERN_CONTEXT?Q:K;function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){return function(t){var n=d((function(n,r){var a=n.analyticsContext,o=C(n,["analyticsContext"]),s=u((function(){return G(G({},e),a)}),[a]);return i.createElement(X,{data:s},i.createElement(t,A({},o,{ref:r})))}));return n.displayName="WithAnalyticsContext(".concat(t.displayName||t.name,")"),n}};function $(){var e=W();return{createAnalyticsEvent:P((function(t){return new B({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=$(),r=n.createAnalyticsEvent,i=o({}),a=u((function(){var n=i.current;return Object.keys(n).filter((function(t){return!(t in e)})).forEach((function(e){return delete n[e]})),Object.keys(e).reduce((function(i,a){var o=e[a];if(!["object","function"].includes(m(o)))return i;var s=t[a];if(a in n&&n[a].eventCreator===o&&n[a].propValue===s)return te(te({},i),{},g({},a,n[a].wrappedCallback));var c=function(){var e="function"==typeof o?o(r,t):r(o);if(s&&"function"==typeof s){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];s.apply(void 0,i.concat([e]))}};return n[a]={eventCreator:o,wrappedCallback:c,propValue:s},te(te({},i),{},g({},a,c))}),{})}),[e,t,r,i]);return{patchedEventProps:a}}var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=d((function(n,r){var a=ne(e,n).patchedEventProps,o=$().createAnalyticsEvent;return i.createElement(t,A({},n,a,{createAnalyticsEvent:o,ref:r}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}};function ie(e){if(e&&e.theme){if(se in e.theme)return e.theme[se];if("mode"in e.theme&&le.includes(e.theme.mode))return e.theme}return{mode:ce}}var ae,oe=function(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=ie(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=ie(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),se="__ATLASKIT_THEME__",ce="light",le=["light","dark"],ue=function(){return 14},de=O(["\n  color: ",";\n"],oe),fe=j.textarea.withConfig({displayName:"TextArea",componentId:"l4fqfr-0"})(["\n  background: transparent;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  box-sizing: border-box;\n  color: inherit;\n  cursor: inherit;\n  font-family: ",";\n  font-size: ","px;\n  line-height: ",";\n  min-width: 0;\n  outline: none;\n  width: 100%;\n\n  [disabled] {\n    ",";\n  }\n\n  "," ","\n\n  &::-ms-clear {\n    display: none;\n  }\n\n  &:invalid {\n    box-shadow: none;\n  }\n\n  ",";\n"],(function(e){return e.isMonospaced?"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace":"inherit"}),ue,20/14,"\n  -webkit-text-fill-color: unset;\n  -webkit-opacity: 1;\n",(function(e){var t=e.minimumRows;return"min-height: ".concat(20*t,"px;")}),(function(e){var t=e.enableResize;return t?"horizontal"===t?"resize: horizontal;":"vertical"===t?"resize: vertical;":null:"resize: none;"}),O(["\n  &::-webkit-input-placeholder {\n    /* WebKit, Blink, Edge */\n    ",";\n  }\n  &::-moz-placeholder {\n    /* Mozilla Firefox 19+ */\n    "," opacity: 1;\n  }\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    ",";\n  }\n  &:-moz-placeholder {\n    /* Mozilla Firefox 4 to 18 */\n    "," opacity: 1;\n  }\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    ",";\n  }\n"],ae=de,ae,ae,ae,ae));function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}var me="@atlaskit/field-text-area",he=j.div.withConfig({displayName:"FieldTextAreaStateless__Wrapper",componentId:"sc-159dr31-0"})(["\n  flex: 1 1 100%;\n"]),ve=function(e){v(n,c);var t=pe(n);function n(){var e;h(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g(x(e),"input",void 0),e}return p(n,[{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoFocus,r=t.compact,a=t.disabled,o=t.id,s=t.invalidMessage,c=t.isInvalid,l=t.isLabelHidden,u=t.isMonospaced,d=t.isReadOnly,f=t.isSpellCheckEnabled,p=t.label,m=t.maxLength,h=t.minimumRows,v=t.name,y=t.onBlur,b=t.onChange,g=t.onFocus,x=t.placeholder,j=t.enableResize,O=t.required,A=t.shouldFitContainer,C=t.value,E=t.isValidationHidden;return i.createElement(he,null,!l&&i.createElement(_,{htmlFor:o,isDisabled:a,isLabelHidden:l,isRequired:O,label:p}),i.createElement(F,{isCompact:r,isDisabled:a,isInvalid:c,isReadOnly:d,isRequired:O,invalidMessage:s,isFitContainerWidthEnabled:A,isValidationHidden:E},i.createElement(fe,{disabled:a,readOnly:d,name:v,placeholder:x,value:C,required:O,isMonospaced:u,minimumRows:h,enableResize:j,onBlur:y,onChange:b,onFocus:g,id:o,autoFocus:n,spellCheck:f,maxLength:m,innerRef:function(t){e.input=t}})))}}]),n}();g(ve,"defaultProps",{compact:!1,disabled:!1,isReadOnly:!1,required:!1,isInvalid:!1,label:"",type:"text",isSpellCheckEnabled:!0,minimumRows:1,isValidationHidden:!1});var ye,be=(ye="atlaskit",function(e){return function(t){var n=t(e),r=n.clone();return r&&r.fire(ye),n}}),ge=Z({componentName:"fieldTextArea",packageName:me,packageVersion:"8.0.7"})(re({onBlur:be({action:"blurred",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:me,packageVersion:"8.0.7"}}),onFocus:be({action:"focused",actionSubject:"textArea",attributes:{componentName:"fieldTextArea",packageName:me,packageVersion:"8.0.7"}})})(ve));N('@import url("https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap");.valid-field-text-area{font-family:Roboto,sans-serif}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]{border:1px solid #b8bfcd}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]>textarea{min-height:100px}.valid-field-text-area [class|=Content__ChildWrapper]>[class|=Content]:hover{border:1px solid #687792}.valid-field-text-area [class|=ValidationElement__WarningIcon]{display:none}.valid-field-text-area .focusedFieldText [class|=Content__ChildWrapper]>[class|=Content]{border:2px solid #0b6cff}.valid-field-text-area .fieldHeader,.valid-field-text-area .fieldInformationTextArea{align-items:baseline;display:flex;justify-content:space-between}');var xe=function(a){var o=a.label,s=void 0===o?"":o,c=a.placeholder,l=a.value,u=a.errMessage,d=a.helperText,p=a.tooltip,m=a.shouldFitContainer,h=void 0===m||m,v=a.isRequired,y=void 0===v||v,b=a.isInvalid,g=void 0===b||b,x=a.minimumRows,j=a.onBlur,O=a.maxLength,A=a.onChange,C=a.dataQa,E=a.optionalLabel,k=e(a,["label","placeholder","value","errMessage","helperText","tooltip","shouldFitContainer","isRequired","isInvalid","minimumRows","onBlur","maxLength","onChange","dataQa","optionalLabel"]),w=i.useState(!1),R=w[0],P=w[1];return n("div",t({className:"valid-field-text-area","data-qa-id":C},{children:[n("div",t({className:f("fieldHeader",{pushRight:!s&&!!O})},{children:[s&&r(T,{label:s,optionalLabel:E,isRequired:y,tooltip:p}),!!O&&r(M,{value:l,maxLength:O})]})),r("div",t({className:f("valid-field-text-area-container",{focusedFieldText:R})},{children:r(ge,t({onFocus:function(){P(!0)},onBlur:function(e){P(!1),j&&j(e)},onChange:A,isLabelHidden:!0,value:l,shouldFitContainer:h,minimumRows:x,placeholder:c},k))})),n("div",t({className:f("fieldInformationTextArea")},{children:[g&&u&&r(S,{message:u}),d&&r(H,{message:d})]}))]}))};export{xe as ValidFieldTextArea};
